const facultyData = [
    {
        name: "Dr. Abhik Mukherjee",
        designation: "Assistant Professor",
        email: "abhik@cs.iiests.ac.in",
        phone: "+91-33-26684561/62/63 Ext",
        photo: "Abhik_Mukherjee.jpg",
        about: "<b>PROFESSIONAL EXPERIENCE:</b><ol><li>One year as Programmer, Tata Consultancy Services, Kolkata Jul '91 - Jun 92.</li><li>One year as Associate Consultant, Price Waterhouse Associates, Kolkata Nov '94 - Nov '95.</li><li>Two and a half years as project linked programmer, at ISI, Kolkata Nov '95 - Mar '98.</li><li>One year as lecturer at Regional Computer Centre, Kolkata Feb '99 - Jan '00.</li><li>Twenty+ years as Lecturer/ Asst Prof / Associate Professor at IIEST / BESU, Shibpur since Jan '00</li></ol>",
        academicQualifications: "<ul><li>Ph.D. Computer Science Department, BESU Shibpur in 2003.</li><li>ME Control Systems specialization, Jadavpur University in 1994.</li><li>BE Electronics & Telecomm Engg, Jadavpur University in 1991.</li></ul>",
    },
    {
        name: "Dr. Apurba Sarkar",
        designation: "Head & Associate Professor",
        email: "apurba@cs.iiests.ac.in",
        phone: "0332668-576",
        photo: "Apurba_Sarkar.jpg",
        about: "I am currently serving as an associate professor in the Department of Computer Science and Technology, IIEST Shibpur. I have done my bachelor's in Computer Science and Engineering from the University of Calcutta, Kolkata, India, in 2001 and subsequently completed masters degree in Computer Science and Engineering from the Indian Institute of Technology Guwahati, India in 2003. I have obtained the Ph.D. degree in Computer Science and Engineering from the Department of Computer Science and Engineering, Indian Institute of Technology Kanpur. I am broadly interested in digital geometry, discrete and combinatorial geometry, text summerization and image processing. Recenlty I am exploring and started working in graph compression teechniques.",
        academicQualifications: "<ul><li>B. Tech. (Computer Science and Engineering), CU, 2001</li><li>M. Tech. (Computer Science and Engineering), IIT Guwahati, 2003</li><li>Ph.D. (Computer Science and Engineering), IIT Kanpur, 2016</li></ul>",
    },
    {
        name: "Mr. Ashish Kumar Layek",
        designation: "Assistant Professor",
        email: "ashish@cs.iiests.ac.in",
        phone: "(033) 26684561",
        photo: "Ashik_Layek.jpg",
        about: "I am presently an Assistant Professor in the Department of Computer Science and Technology at IIEST Shibpur, India, since 2013. My research interests span the broad area of Wireless Networks, Mobile Computing, Pattern Recognition, Image Processing, etc.<br>I completed my Bachelor of Engineering and Master of Engineering from the Department of Computer Science and Technology, Bengal Engineering College (now IIEST Shibpur) in 1999 and 2001. Before joining IIEST Shibpur, I have worked in the Software Industries for more than twelve years. During my tenure in the industry, my area of work was in Wireless Telecommunication and Data communication. I was responsible for architecting and developing system software for 3G (UMTS and 1xEVDO) and 4G (LTE) mobile networks. I have worked for organizations like Sasken Technologies, Alcatel-Lucent, Airvana Networks, Polaris Networks and played the roles of Technical Leader / Consultant.",
        academicQualifications: "<ul><li>M.E. in Computer Science and Technology, Bengal Engineering College (DU), 2001</li><li>B.E. in Computer Science and Technology, Bengal Engineering College (DU), 1999</li></ul>",
    },
    {
        name: "Dr. Asit Kumar Das",
        designation: "Professor",
        email: "akdas@cs.iiests.ac.in<br>dasasitkumar@gmail.com",
        phone: "(033) 26684561(extn-576)",
        photo: "Asit_Kumar_Das.png",
        about: "",
        academicQualifications: "<ul><li>Ph.D.(Engineering) from Department of Computer Science and Technology, Bengal Engineering and Science University , 2011</li><li>M. Tech. in Computer Science and Engineering, Calcutta University, 2002</li><li>B. Tech. in Computer Science and Engineering, Calcutta University, 1996</li><li>B. Sc. Honours in Mathematics, Belur Ramakrishna Mission Vidyamandira, Calcutta University, 1993</li><li>Higher Secondary, West Bengal Council of Higher Secondary Education, 1990</li><li>Madhyamik, West Bengal Board of Secondary Education, 1988</li></ul>",
    },
    {
        name: "Dr. Biplab K. Sikdar",
        designation: "Professor",
        email: "biplab@cs.iiests.ac.in",
        phone: "+91-33-26684561/62/63 Ext.",
        photo: "BKS.jpg",
        about: "",
        academicQualifications: "<ul><li>PhD from Bengal Engineering and Science University, Shibpur, in 2003.</li><li>M. Tech in Computer Science & Engineering from Calcutta University, in 1990.</li><li>B. Tech in Computer Science & Engineering from Calcutta University, in 1988.</li><li>B. Sc(H) in Physics from Presidency College, Calcutta University, in 1985.</li></ul>",
    },
    {
        name: "Dr. Jaya Sil",
        designation: "Professor",
        email: "js@cs.iiests.ac.in<br>jayaiiests@gmail.com",
        phone: "033 2668 576(Ext. 63)",
        photo: "Joysil.jpeg",
        about: "",
        academicQualifications: "<ul><li>Ph.D.(Computer Sc.) - Specialization in Artificial Intelligence and Soft Computing - In 1996.</li><li>M.E.(Computer Sc. & Engg. ) - 1st Class - In 1986.</li><li>B.E.(Electronics & Tele Comm.) - 1st Class - In 1984.</li></ul>",
    },
    {
        name: "Dr. Malay Kule",
        designation: "Assistant Professor",
        email: "malay@cs.iiests.ac.in<br>malay.cs@faculty.iiests.ac.in",
        phone: "+91 -033 - 26686151",
        photo: "Malay_Kule.jpg",
        about: "Malay Kule has been on the faculty of the Indian Institute of Engineering Science and Technology (IIEST), Shibpur, India since 2013, where currently, he is an assistant professor (Grade II) of Computer Science and Technology. Previously he served as an assistant professor in the department of Computer Science and Engineering of St. Thomasâ€™ College of Engineering and Technology, Kolkata, India from 2006 to 2013. He received the B. Sc. degree in physics honours, the B. Tech. and M. Tech. degrees in Computer Science and Engineering, all from the University of Calcutta, India. He received the PhD degree in Engineering from the Indian Institute of Engineering Science and Technology, Shibpur, India. His research interest includes defect tolerance of nanoscale crossbar circuits, cryptology, hardware security, and Social Network Security.",
        academicQualifications: "<ul><li>Ph. D., Engineering, Indian Institute of Engineering Science and Technology, Shibpur</li><li>M. Tech., Computer Science and Engineering, University of Calcutta</li><li>B. Tech., Computer Science and Engineering, University of Calcutta</li><li>B. Sc., Physics Honours, University of Calcutta</li></ul>",
    },
    {
        name: "Mr. Manas Hira",
        designation: "Associate Professor",
        email: "manas@cs.iiests.ac.in<br>manas.cs@faculty.iiests.ac.in",
        phone: "+91-33-26684561/62/63 Ext.",
        photo: "MHira.jpg",
        about: "",
        academicQualifications: "<ul><li>M.Tech. (CSE Department, IIT Kharagpur) in the year 1991 .</li><li>B.Tech. (CSE Department, IIT Kharagpur) in the year 1989.</li></ul>",
    },
    {
        name: "Dr. Nirnay Ghosh",
        designation: "Assistant Professor GR-II",
        email: "nirnay@cs.iiests.ac.in<br>nirnay.cs@faculty.iiests.ac.in",
        phone: "+91 33 2668 6151",
        photo: "Nirnay_Ghosh.jpg",
        about: "Dr. Nirnay Ghosh is an Assistant Professor at the Indian Institute of Engineering Science and Technology Shibpur (IIESTS). He previously worked as a research fellow at the iTrust Research Center for Cyber Security in Singapore. He was a visiting faculty at IIIT Kalyani, where he taught Discrete Mathematics. He also served as a postdoctoral researcher at the Missouri University of Science and Technology, focusing on participatory sensing and urban computing.His educational background includes a master's and Ph.D. from IIT Kharagpur. His research covers various areas, including attack graphs, network security, cloud computing, and IoT privacy. He has published numerous papers, two book chapters, and has worked on sponsored projects related to network security. He received the TCS Research fellowship and was awarded the best paper award at IEEE ADCOM 2012.",
        academicQualifications: "<ul><li>Doctor of Philosophy (PhD), IIT Kharagpur, 2016</li><li>Master of Science (MS - by research), IIT Kharagpur, 2010</li><li>Bachelor of Technology (BTech - Computer Science and Engineering), West Bengal University of Technology (WBUT), 2006</li></ul>",
    },
    {
        name: "Dr. Samit Biswas",
        designation: "Assistant Professor",
        email: "samit@cs.iiests.ac.in<br>samitbiet@gmail.com",
        phone: "+91-9831613404",
        photo: "Samit_Das.jpg",
        about: "Currently, I am working as an Assistant Professor in the Department of Computer Science and Technology at IIEST Shibpur. I received the B.E degree in Computer Science and Engineering from University of Burdwan, subsequently completed M. Tech. degree in Computer Science and Technology from Kalyani University and PhD degree in Computer Science and Technology from IIEST Shibpur. I worked as Lecturer in Computer Science and Engineering in BIT, Kolkata from 2006 to 2010 and as Assistant Professor in the same institute from 2010 to 2013. I then joined at Bengal Engineering and Science University, Shiibpur as Assistant Professor in the Department of Computer Science and Technology.",
        academicQualifications: "B.E, M.Tech, PhD",
    },
    {
        name: "Dr. Sekhar Mandal",
        designation: "Professor",
        email: "sekhar@cs.iiests.ac.in",
        phone: "033 2668 0128",
        photo: "Sekhar_Mandal.jpg",
        about: "Dr. Sekhar Mandal is a Professor in the Department of Computer Science and Technology at IIEST Shibpur, India. He has joined in the institute in the year 2000. His research interests span the broad area of Computer Vision, Pattern Recognition, and Image Processing. He has completed his B.Tech and M.Tech from the Department of Radio Physics and Electronics, the University of Calcutta in the year 1991 and 1993 respectively. He has completed his Ph.D. in the year 2007 from the Department of Computer Science and Technology, Bengal Engineering and Science University, Shibpur.",
        academicQualifications: "",
    },
    {
        name: "Dr. Sipra Das Bit",
        designation: "Professor",
        email: "sb@cs.iiests.ac.in<br>sdasbit@yahoo.co.in",
        phone: "033 2668 6151",
        photo: "Sipra_Bit.jpg",
        about: "",
        academicQualifications: "Ph.D(Engg) from Dept. of Computer Sc. & Engg.from Jadavpur University, Kolkata, 1997",
    },
    {
        name: "Dr. Somnath Pal",
        designation: "Associate Professor",
        email: "sp@cs.iiests.ac.in<br>sp@cs.becs.ac.in",
        phone: "033 2668 6151",
        photo: "Somnath_Pal.jpg",
        about: "",
        academicQualifications: "<ul><li>Ph. D. from Department of Computer Science and Technology, IIEST, Shibpur.</li><li>M. E. in Electrical Engineering from Bengal Engineering College, Shibpur.</li><li>B. E. in Electrical Engineering from Bengal Engineering College, Shibpur. </li></ul>",
    },
    {
        name: "Dr. Sulata Mitra",
        designation: "Professor",
        email: "sulata@cs.iiests.ac.in",
        phone: "033 2668 6151",
        photo: "Sulata_Mitra.jpg",
        about: "",
        academicQualifications: "Ph.D.",
    },
    {
        name: "Dr. Surajeet Ghosh",
        designation: "Associate Professor",
        email: "surajeet@cs.iiests.ac.in<br>ghoshsurajeet@yahoo.com",
        phone: "033 2668 6151",
        photo: "Surajeet_Ghosh.png",
        about: "",
        academicQualifications: "<ul><li>Ph.D. (Engineering), Jadavpur University, Kolkata, India</li><li>M.E. (Computer Science and Engineering), Maulana Abul Kalam Azad University of Technology, (Formerly West Bengal University of Technology), Kolkata, India</li><li>B.Tech. (Computer Science and Technology), University of Kalyani, Kalyani, West Bengal, India</li></ul>",
    },
    {
        name: "Dr. Susanta Chakraborty",
        designation: "Professor",
        email: "sc@cs.iiests.ac.in<br>susanta.chak@gmail.com",
        phone: "033 2668 6151",
        photo: "Susanta_Chakraborty.jpg",
        about: "I am serving as a Full Professor, in the Department of Computer Science & Technology since 2005 and former Dean (Academic)(2018-2020) of the Indian Institute of Engineering Science and Technology, Shibpur. My research works have been concerned with various topics of   Social Network, Machine learning, AI, Big Data analysis, Test-pattern generation, Vedio image processing, and Quantum Computing with the collaboration of eminent Scientist Prof. Bhargab B Bhattacharya from Advance Computing Units, Indian Statistical Institute. Professor. Hideo. Fujiwara, NAIST, Japan and with Professor M. Goessel, Institute of Computer Science, University of Potsdam, Germany and Professor John P. Hays, Shannon Professor of Engineering Science, University of Michigan, Advanced Computer Architecture Lab, Ann arbor.",
        academicQualifications: "<ul><li>Ph.D(Tech) in Computer Science from  University of Calcutta, work done at Advanced Computing  Unit, Indian Statistical Institute</li><li>M.Tech and B.Tech from University College of Science and Technology, University of Calcutta (Rajabazar Campus)</li></ul>",
    },
    {
        name: "Dr. Tamal Pal",
        designation: "Assistant Professor",
        email: "tamal@cs.iiests.ac.in",
        phone: "033 2668 6151",
        photo: "Tamal_Pal.jpg",
        about: "",
        academicQualifications: "<ul><li>Ph.D (Engineering), Computer Science and Technology, IIEST</li><li>ME. Computer Science and Technology, IIEST</li><li>BTech. Computer Science and Engineering, MAKAUT</li></ul>",
    },
];

function createProfileCard(faculty) {
    // Create elements and set attributes and content
    const card = document.createElement("div");
    card.classList.add("profile-card");

    const img = document.createElement("img");
    img.src = "./assets/images/faculty/" + faculty.photo;
    img.alt = faculty.name;
    img.classList.add("profile-image");

    const name = document.createElement("h2");
    name.textContent = faculty.name;
    name.classList.add("name");

    const designation = document.createElement("h3");
    designation.textContent = faculty.designation;
    designation.classList.add("designation");

    const contactList = document.createElement("ul");
    contactList.classList.add("contact-list");

    const emailLi = document.createElement("li");
    emailLi.innerHTML = `<img class="icons" src="./assets/images/icons/mail-icon.png">${faculty.email}</a>`;

    const phoneLi = document.createElement("li");
    phoneLi.innerHTML = `<img class="icons" src="./assets/images/icons/phone-icon.jpg">${faculty.phone}`;

    // Append elements to the card
    contactList.appendChild(emailLi);
    contactList.appendChild(phoneLi);

    card.appendChild(img);
    card.appendChild(name);
    card.appendChild(designation);
    card.appendChild(contactList);

    return card;
}

// function displayFacultyProfiles() {
//     const profilesContainer = document.querySelector(".profile");
//     facultyData.forEach((faculty) => {
//         const card = createProfileCard(faculty);
//         profilesContainer.appendChild(card);
//     });
// }

// displayFacultyProfiles();

function displayFacultyProfiles() {
    const profilesContainer = document.querySelector(".profile");
    facultyData.forEach((faculty) => {
        const card = createProfileCard(faculty);
        card.addEventListener("click", () => {
            displayFullProfile(faculty);
        });
        profilesContainer.appendChild(card);
    });
}

displayFacultyProfiles();

const searchInput = document.getElementById("search-input");
const searchButton = document.getElementById("search-button");

function searchFaculty() {
    const query = searchInput.value.toLowerCase();

    const profilesContainer = document.querySelector(".profile");
    profilesContainer.innerHTML = '';

    const filteredFaculty = facultyData.filter((faculty) => {
        return faculty.name.toLowerCase().includes(query);
    });

    if (filteredFaculty.length === 0) {
        // No matching profiles found, display a message and sad emoji
        const noResultsContainer = document.createElement("div");
        noResultsContainer.classList.add("no-results-container");

        const sadEmoji = document.createElement("img");
        sadEmoji.src = "./assets/images/icons/sad-emoji.svg";
        sadEmoji.alt = "Sad Emoji";
        sadEmoji.classList.add("emoji");
        sadEmoji.style.width = "100px";
        sadEmoji.style.height = "100px";

        const noResultsMessage = document.createElement("div");
        noResultsMessage.textContent = "Sorry, no such profile exists";
        noResultsMessage.classList.add("no-results-message");

        noResultsContainer.appendChild(sadEmoji);
        noResultsContainer.appendChild(noResultsMessage);

        profilesContainer.appendChild(noResultsContainer);
    } else {
        // Display matching profiles
        filteredFaculty.forEach((faculty) => {
            const card = createProfileCard(faculty);
            card.addEventListener("click", () => {
                displayFullProfile(faculty);
            });
            profilesContainer.appendChild(card);
        });
    }
}


searchButton.addEventListener("click", searchFaculty);

searchInput.addEventListener("keyup", function (event) {
    if (event.key === "Enter") {
        searchFaculty();
    }
});

// function displayFullProfile(faculty) {
//     // Create an HTML content for the full profile
//     const profileHTML = `
//         <html>
//         <head>
//             <title>${faculty.name} - Faculty Profile</title>
//             <meta charset="UTF-8">
//             <meta name="viewport" content="width=device-width, initial-scale=1.0">
//             <link rel="stylesheet" href="styles.css">
//         </head>
//         <body>
//             <div class="profile-card"> <!-- Reuse the same class -->
//                 <img src="./assets/images/faculty/${faculty.photo}" alt="${faculty.name}" class="profile-image">
//                 <h2 class="name">${faculty.name}</h2>
//                 <h3 class="designation">${faculty.designation}</h3>
//                 <ul class="contact-list">
//                     <li><img class="icons" src="./assets/images/icons/mail-icon.png">${faculty.email}</li>
//                     <li><img class="icons" src="./assets/images/icons/phone-icon.jpg">${faculty.phone}</li>
//                 </ul>
//             </div>
//         </body>
//         </html>
//     `;

//     // Create a new tab with the generated HTML content
//     const newTab = window.open('', '_blank');
//     newTab.document.open();
//     newTab.document.write(profileHTML);
//     newTab.document.close();
// }


function displayFullProfile(faculty) {
    const newTab = window.open('./profileView.html', '_blank');

    newTab.onload = function () {
        newTab.document.getElementById('profile-image').src = `./assets/images/faculty/${faculty.photo}`;
        newTab.document.getElementById('profile-image').alt = faculty.name;
        newTab.document.getElementById('name').textContent = faculty.name;
        newTab.document.getElementById('designation').textContent = faculty.designation;
        newTab.document.getElementById('email-icon').src = './assets/images/icons/mail-icon.png';
        newTab.document.getElementById('email').innerHTML = faculty.email;
        newTab.document.getElementById('phone-icon').src = './assets/images/icons/phone-icon.jpg';
        newTab.document.getElementById('phone').textContent = faculty.phone;
        newTab.document.getElementById('profile-about').innerHTML = faculty.about;
        newTab.document.getElementById('profile-qualifications').innerHTML = faculty.academicQualifications;
    };
}

function generateFacultyNavBar() {
    const facultyListContainer = document.getElementById('faculty-list');

    facultyData.forEach((faculty) => {
        const facultyCard = document.createElement('div');
        facultyCard.classList.add('faculty-card');
        facultyCard.textContent = faculty.name;

        facultyCard.addEventListener('click', () => {
            displayFullProfile(faculty);
        });

        facultyListContainer.appendChild(facultyCard);
    });
}

generateFacultyNavBar();


const toggleProfileList = document.querySelector(".toggle-profile-list");
const facultyListContainer = document.getElementById('faculty-list');
toggleProfileList.addEventListener("click", function () {
    if (facultyListContainer.style.display === "none" || facultyListContainer.style.display === "") {
        facultyListContainer.style.display = "block";
    } else {
        facultyListContainer.style.display = "none";
    }
});
